<!DOCTYPE html>
<html lang=en>
<head>
    <!-- so meta -->
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="HandheldFriendly" content="True">
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=5" />
    <meta name="description" content="背包问题(Knapsack problem)是一种组合优化的 NP 完全问题。问题可以描述为：给定一组物品，每种物品都有自己的重量 w 和价格 v ，在限定的总重量内，我们如何选择，才能使得物品的总价格 V 最高。问题的名称来源于如何选择最合适的物品放置于给定背包中。背包问题可以分为很多的种类,但是各类复杂的背包问题总可以变换为简单的0-1背包问题进行求解[4],下面将详细的介绍背包问题的一些“共">
<meta property="og:type" content="article">
<meta property="og:title" content="Letcode 背包问题一览">
<meta property="og:url" content="https://tblgsn.github.io/KnapsackProblem20210615.html">
<meta property="og:site_name" content="tblgsn的个人博客">
<meta property="og:description" content="背包问题(Knapsack problem)是一种组合优化的 NP 完全问题。问题可以描述为：给定一组物品，每种物品都有自己的重量 w 和价格 v ，在限定的总重量内，我们如何选择，才能使得物品的总价格 V 最高。问题的名称来源于如何选择最合适的物品放置于给定背包中。背包问题可以分为很多的种类,但是各类复杂的背包问题总可以变换为简单的0-1背包问题进行求解[4],下面将详细的介绍背包问题的一些“共">
<meta property="og:locale" content="en_US">
<meta property="article:published_time" content="2021-06-15T17:38:00.000Z">
<meta property="article:modified_time" content="2024-04-21T02:17:00.497Z">
<meta property="article:author" content="tblgsn">
<meta property="article:tag" content="algorithm">
<meta property="article:tag" content="leetcode">
<meta name="twitter:card" content="summary">
    
    
      
        
          <link rel="shortcut icon" href="/images/favicon.ico">
        
      
      
        
          <link rel="icon" type="image/png" href="/images/favicon-192x192.png" sizes="192x192">
        
      
      
        
          <link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon.png">
        
      
    
    <!-- title -->
    <title>Letcode 背包问题一览</title>
    <!-- async scripts -->
    <!-- Google Analytics -->


    <!-- Umami Analytics -->


    <!-- styles -->
    
<link rel="stylesheet" href="/css/style.css">

    <!-- persian styles -->
    
    <!-- rss -->
    
    
      <link rel="alternate" href="/true" title="tblgsn的个人博客" type="application/atom+xml" />
    
	<!-- mathjax -->
	
		<script type="text/x-mathjax-config">
		  MathJax.Hub.Config({
			tex2jax: {
			  skipTags: ['script', 'noscript', 'style', 'textarea', 'pre'],
			  inlineMath: [['$','$']]
			}
		  });
		</script>
		<script src='https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/latest.js?config=TeX-MML-AM_CHTML' async></script>
	
<meta name="generator" content="Hexo 7.0.0"></head>

<body class="max-width mx-auto px3 ltr">
    
      <div id="header-post">
  <a id="menu-icon" href="#" aria-label="Menu"><i class="fa-solid fa-bars fa-lg"></i></a>
  <a id="menu-icon-tablet" href="#" aria-label="Menu"><i class="fa-solid fa-bars fa-lg"></i></a>
  <a id="top-icon-tablet" href="#" aria-label="Top" onclick="$('html, body').animate({ scrollTop: 0 }, 'fast');" style="display:none;"><i class="fa-solid fa-chevron-up fa-lg"></i></a>
  <span id="menu">
    <span id="nav">
      <ul>
        <!--
       --><li><a href="/">Home</a></li><!--
     --><!--
       --><li><a href="/archives/">Writing</a></li><!--
     --><!--
       --><li><a target="_blank" rel="noopener" href="http://github.com/tblgsn">Projects</a></li><!--
     --><!--
       --><li><a href="/about/">About</a></li><!--
     -->
      </ul>
    </span>
    <br/>
    <span id="actions">
      <ul>
        
        <li><a class="icon" aria-label="Previous post" href="/leetcode380.html"><i class="fa-solid fa-chevron-left" aria-hidden="true" onmouseover="$('#i-prev').toggle();" onmouseout="$('#i-prev').toggle();"></i></a></li>
        
        
        <li><a class="icon" aria-label="Next post" href="/binarysearch20210522.html"><i class="fa-solid fa-chevron-right" aria-hidden="true" onmouseover="$('#i-next').toggle();" onmouseout="$('#i-next').toggle();"></i></a></li>
        
        <li><a class="icon" aria-label="Back to top" href="#" onclick="$('html, body').animate({ scrollTop: 0 }, 'fast');"><i class="fa-solid fa-chevron-up" aria-hidden="true" onmouseover="$('#i-top').toggle();" onmouseout="$('#i-top').toggle();"></i></a></li>
        <li><a class="icon" aria-label="Share post" href="#"><i class="fa-solid fa-share-alt" aria-hidden="true" onmouseover="$('#i-share').toggle();" onmouseout="$('#i-share').toggle();" onclick="$('#share').toggle();return false;"></i></a></li>
      </ul>
      <span id="i-prev" class="info" style="display:none;">Previous post</span>
      <span id="i-next" class="info" style="display:none;">Next post</span>
      <span id="i-top" class="info" style="display:none;">Back to top</span>
      <span id="i-share" class="info" style="display:none;">Share post</span>
    </span>
    <br/>
    <div id="share" style="display: none">
      <ul>
  <li><a class="icon" target="_blank" rel="noopener" href="http://www.facebook.com/sharer.php?u=https://tblgsn.github.io/KnapsackProblem20210615.html"><i class="fab fa-facebook " aria-hidden="true"></i></a></li>
  <li><a class="icon" target="_blank" rel="noopener" href="https://twitter.com/share?url=https://tblgsn.github.io/KnapsackProblem20210615.html&text=Letcode 背包问题一览"><i class="fab fa-twitter " aria-hidden="true"></i></a></li>
  <li><a class="icon" target="_blank" rel="noopener" href="http://www.linkedin.com/shareArticle?url=https://tblgsn.github.io/KnapsackProblem20210615.html&title=Letcode 背包问题一览"><i class="fab fa-linkedin " aria-hidden="true"></i></a></li>
  <li><a class="icon" target="_blank" rel="noopener" href="https://pinterest.com/pin/create/bookmarklet/?url=https://tblgsn.github.io/KnapsackProblem20210615.html&is_video=false&description=Letcode 背包问题一览"><i class="fab fa-pinterest " aria-hidden="true"></i></a></li>
  <li><a class="icon" href="mailto:?subject=Letcode 背包问题一览&body=Check out this article: https://tblgsn.github.io/KnapsackProblem20210615.html"><i class="fa-solid fa-envelope " aria-hidden="true"></i></a></li>
  <li><a class="icon" target="_blank" rel="noopener" href="https://getpocket.com/save?url=https://tblgsn.github.io/KnapsackProblem20210615.html&title=Letcode 背包问题一览"><i class="fab fa-get-pocket " aria-hidden="true"></i></a></li>
  <li><a class="icon" target="_blank" rel="noopener" href="http://reddit.com/submit?url=https://tblgsn.github.io/KnapsackProblem20210615.html&title=Letcode 背包问题一览"><i class="fab fa-reddit " aria-hidden="true"></i></a></li>
  <li><a class="icon" target="_blank" rel="noopener" href="http://www.stumbleupon.com/submit?url=https://tblgsn.github.io/KnapsackProblem20210615.html&title=Letcode 背包问题一览"><i class="fab fa-stumbleupon " aria-hidden="true"></i></a></li>
  <li><a class="icon" target="_blank" rel="noopener" href="http://digg.com/submit?url=https://tblgsn.github.io/KnapsackProblem20210615.html&title=Letcode 背包问题一览"><i class="fab fa-digg " aria-hidden="true"></i></a></li>
  <li><a class="icon" target="_blank" rel="noopener" href="http://www.tumblr.com/share/link?url=https://tblgsn.github.io/KnapsackProblem20210615.html&name=Letcode 背包问题一览&description=&lt;p&gt;背包问题(Knapsack problem)是一种组合优化的 NP 完全问题。问题可以描述为：给定一组物品，每种物品都有自己的重量 w 和价格 v ，在限定的总重量内，我们如何选择，才能使得物品的总价格 V 最高。问题的名称来源于如何选择最合适的物品放置于给定背包中。&lt;br&gt;背包问题可以分为很多的种类,但是各类复杂的背包问题总可以变换为简单的0-1背包问题进行求解[4],下面将详细的介绍背包问题的一些“共性”。&lt;/p&gt;"><i class="fab fa-tumblr " aria-hidden="true"></i></a></li>
  <li><a class="icon" target="_blank" rel="noopener" href="https://news.ycombinator.com/submitlink?u=https://tblgsn.github.io/KnapsackProblem20210615.html&t=Letcode 背包问题一览"><i class="fab fa-hacker-news " aria-hidden="true"></i></a></li>
</ul>

    </div>
    
    
      <div id="toc">
        <ol class="toc"><li class="toc-item toc-level-2"><a class="toc-link" href="#1-%E8%83%8C%E5%8C%85%E9%97%AE%E9%A2%98%E7%9A%84%E5%88%86%E7%B1%BB%E5%8F%8A%E6%A8%A1%E6%9D%BF"><span class="toc-number">1.</span> <span class="toc-text">1. 背包问题的分类及模板</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#1-1-%E4%BB%A3%E7%A0%81%E6%A8%A1%E6%9D%BF"><span class="toc-number">1.1.</span> <span class="toc-text">1.1 代码模板</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#1-2-%E8%BD%AC%E7%A7%BB%E6%96%B9%E7%A8%8B"><span class="toc-number">1.2.</span> <span class="toc-text">1.2 转移方程</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#2-0-1-%E8%83%8C%E5%8C%85%E9%97%AE%E9%A2%98"><span class="toc-number">2.</span> <span class="toc-text">2. 0-1 背包问题</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#3-%E5%AE%8C%E5%85%A8%E8%83%8C%E5%8C%85%E9%97%AE%E9%A2%98"><span class="toc-number">3.</span> <span class="toc-text">3. 完全背包问题</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#4-%E5%A4%9A%E9%87%8D%E8%83%8C%E5%8C%85%E9%97%AE%E9%A2%98"><span class="toc-number">4.</span> <span class="toc-text">4. 多重背包问题</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#5-%E7%BB%84%E5%90%88%E8%83%8C%E5%8C%85%E9%97%AE%E9%A2%98"><span class="toc-number">5.</span> <span class="toc-text">5. 组合背包问题</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#6-%E5%88%86%E7%BB%84%E8%83%8C%E5%8C%85"><span class="toc-number">6.</span> <span class="toc-text">6. 分组背包</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%8F%82%E8%80%83"><span class="toc-number">7.</span> <span class="toc-text">参考</span></a></li></ol>
      </div>
    
  </span>
</div>

    
    <div class="content index py4 ">
        
        <article class="post h-entry" itemscope itemtype="http://schema.org/BlogPosting">
  <header>
    
    <h1 class="posttitle p-name" itemprop="name headline">
        Letcode 背包问题一览
    </h1>



    <div class="meta">
      <span class="author p-author h-card" itemprop="author" itemscope itemtype="http://schema.org/Person">
        <span class="p-name" itemprop="name">@TBLGSn</span>
      </span>
      
    <div class="postdate">
      
        <time datetime="2021-06-15T17:38:00.000Z" class="dt-published" itemprop="datePublished">2021-06-15</time>
        
      
    </div>


      

      
    <div class="article-tag">
        <i class="fa-solid fa-tag"></i>
        <a class="p-category" href="/tags/algorithm/" rel="tag">algorithm</a>, <a class="p-category" href="/tags/leetcode/" rel="tag">leetcode</a>
    </div>


    </div>
  </header>
  

  <div class="content e-content" itemprop="articleBody">
    <p>背包问题(Knapsack problem)是一种组合优化的 NP 完全问题。问题可以描述为：给定一组物品，每种物品都有自己的重量 w 和价格 v ，在限定的总重量内，我们如何选择，才能使得物品的总价格 V 最高。问题的名称来源于如何选择最合适的物品放置于给定背包中。<br>背包问题可以分为很多的种类,但是各类复杂的背包问题总可以变换为简单的0-1背包问题进行求解[4],下面将详细的介绍背包问题的一些“共性”。</p>
<span id="more"></span>

<h2 id="1-背包问题的分类及模板"><a href="#1-背包问题的分类及模板" class="headerlink" title="1. 背包问题的分类及模板"></a>1. 背包问题的分类及模板</h2><ol>
<li>0-1背包问题：每个元素最多选取一次</li>
<li>完全背包问题：每个元素可以重复选择</li>
<li>多重背包问题：不止一个背包，需要遍历每个背包</li>
<li>组合背包问题：背包中的物品要考虑顺序</li>
<li>分组背包问题：这个比较特殊，需要三重循环：外循环背包bags,内部两层循环根据题目的要求转化为1,2,3三种背包类型的模板</li>
</ol>
<h3 id="1-1-代码模板"><a href="#1-1-代码模板" class="headerlink" title="1.1 代码模板"></a>1.1 代码模板</h3><p>背包问题通常使用<strong>动态规划</strong>的思想来解决，这意味着背包问题是“有迹可循”的.<br>背包问题的模板如下:</p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Solution</span> &#123;</span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    <span class="comment">/* </span></span><br><span class="line"><span class="comment">        coins : 每一个物品</span></span><br><span class="line"><span class="comment">        amount: 背包的容量</span></span><br><span class="line"><span class="comment">        dp[i] 储存当背包容量为 i 时符合题意的解答</span></span><br><span class="line"><span class="comment">    */</span></span><br><span class="line">    <span class="function"><span class="type">int</span> <span class="title">coinChange</span><span class="params">(vector&lt;<span class="type">int</span>&gt;&amp; coins, <span class="type">int</span> amount)</span> </span>&#123;</span><br><span class="line">        <span class="function">vector&lt;<span class="type">int</span>&gt; <span class="title">dp</span><span class="params">(amount  + <span class="number">1</span>)</span></span>;</span><br><span class="line">        dp[<span class="number">0</span>] = <span class="number">0</span>; </span><br><span class="line">        <span class="keyword">for</span>(<span class="type">int</span> i = <span class="number">1</span>; i &lt;= amount; i ++) &#123; <span class="comment">//遍历所有的容量</span></span><br><span class="line">            <span class="keyword">for</span>(<span class="type">int</span> j = <span class="number">0</span>; j &lt; coins.<span class="built_in">size</span>(); ++j)&#123; <span class="comment">//遍历所有的物品</span></span><br><span class="line">               <span class="comment">// 转移方程</span></span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> dp[amount ];</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>
<blockquote>
<p>但切记不可死套模板，不同的题会有不同的要求,有时甚至要借助其他的数据结构才能解答,所以要要灵活的使用,适当的对代码做出修改是有必要的</p>
</blockquote>
<h3 id="1-2-转移方程"><a href="#1-2-转移方程" class="headerlink" title="1.2 转移方程"></a>1.2 转移方程</h3><p>在 [1] 中，作者针对不同的背包的不同要求，将问题分为三类,分别是最值问题、存在问题、组合问题，并给出来了对应的转移方程</p>
<ol>
<li>最值问题,要求满足条件的最大值&#x2F;最小值: dp[i] &#x3D; max&#x2F;min(dp[i], dp[i-nums]+1)    或<br>     dp[i] &#x3D; max&#x2F;min(dp[i], dp[i-num]+nums);</li>
<li>存在问题,是否存在?(bool)：dp[i]&#x3D;dp[i] || dp[i-num];</li>
<li>组合问题,满足条件的组合：dp[i] +&#x3D; dp[i-num];<blockquote>
<p>这里并不可能列出所有的转移方程(尤其是对于混合背包问题)</p>
</blockquote>
</li>
</ol>
<h2 id="2-0-1-背包问题"><a href="#2-0-1-背包问题" class="headerlink" title="2. 0-1 背包问题"></a>2. 0-1 背包问题</h2><p>如果限定每种物品只能选择0个或1个，则问题称为0-1背包问题。</p>
<p>例题 <a target="_blank" rel="noopener" href="https://leetcode-cn.com/problems/partition-equal-subset-sum/">416. 分割等和子集</a></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">给你一个 只包含正整数 的 非空 数组 nums 。请你判断是否可以将这个数组分割成两个子集，使得两个子集的元素和相等。</span><br><span class="line">示例：</span><br><span class="line">    输入：nums = [1,5,11,5]</span><br><span class="line">    输出：true</span><br><span class="line">    解释：数组可以分割成 [1, 5, 5] 和 [11] 。</span><br></pre></td></tr></table></figure>
<p>解答</p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Solution</span> &#123;</span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    <span class="function"><span class="type">bool</span> <span class="title">canPartition</span><span class="params">(vector&lt;<span class="type">int</span>&gt; &amp;nums)</span> </span>&#123;</span><br><span class="line">        <span class="type">int</span> sum = <span class="built_in">accumulate</span>(nums.<span class="built_in">begin</span>(), nums.<span class="built_in">end</span>(), <span class="number">0</span>);</span><br><span class="line">        <span class="keyword">if</span> (sum % <span class="number">2</span> == <span class="number">1</span>)  <span class="comment">//如果是和为奇数显然无法分成两个等和子集</span></span><br><span class="line">            <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">        <span class="type">int</span> target = sum / <span class="number">2</span>; </span><br><span class="line">        <span class="function">vector&lt;<span class="type">int</span>&gt; <span class="title">dp</span><span class="params">(target + <span class="number">1</span>, <span class="number">0</span>)</span></span>; <span class="comment">//dp[i]:是否存在子集和为i</span></span><br><span class="line">        dp[<span class="number">0</span>] = <span class="literal">true</span>;   <span class="comment">//初始化：target=0不需要选择任何元素，所以是可以实现的</span></span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> num : nums) <span class="comment">//所有的物品</span></span><br><span class="line">            <span class="keyword">for</span> (<span class="type">int</span> i = target; i &gt;= num; i--) <span class="comment">//所有的容量</span></span><br><span class="line">                <span class="comment">//转移方程2</span></span><br><span class="line">                dp[i] = dp[i] || dp[i - num];</span><br><span class="line">        <span class="keyword">return</span> dp[target];</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>
<h2 id="3-完全背包问题"><a href="#3-完全背包问题" class="headerlink" title="3. 完全背包问题"></a>3. 完全背包问题</h2><p>求解：将哪些物品装入背包，可使这些物品的耗费的<strong>费用总和</strong>不超过背包容量，且价值总和最大。<br>这个问题非常类似于0-1背包问题，所不同的是每种物品有无限件。也就是从每种物品的角度考虑，与它相关的策略已并非取或不取两种，而是有取0件、取1件、取2件……等很多种。<br>转移方程为: 最值问题的第一种形式</p>
<p>例题 <a target="_blank" rel="noopener" href="https://leetcode-cn.com/problems/coin-change/">leetcode 322. 零钱兑换</a></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">给定不同面额的硬币 coins 和一个总金额 amount。编写一个函数来计算可以凑成总金额所需的最少的硬币个数。如果没有任何一种硬币组合能组成总金额，返回 -1。你可以认为每种硬币的数量是无限的。</span><br><span class="line"></span><br><span class="line">示例:</span><br><span class="line">    &gt;输入：coins = [1, 2, 5], amount = 11</span><br><span class="line">    &gt;输出：3 </span><br><span class="line">    &gt;解释：11 = 5 + 5 + 1</span><br></pre></td></tr></table></figure>
<p>解答:</p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Solution</span> &#123;</span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    <span class="function"><span class="type">int</span> <span class="title">coinChange</span><span class="params">(vector&lt;<span class="type">int</span>&gt;&amp; coins, <span class="type">int</span> amount)</span> </span>&#123;</span><br><span class="line">        <span class="comment">//初始化为 amount + 1,比所有的数都大</span></span><br><span class="line">        <span class="function">vector&lt;<span class="type">int</span>&gt; <span class="title">dp</span><span class="params">(amount  + <span class="number">1</span>, amount + <span class="number">1</span>)</span></span>;</span><br><span class="line">        dp[<span class="number">0</span>] = <span class="number">0</span>;</span><br><span class="line">        <span class="keyword">for</span>(<span class="type">int</span> i = <span class="number">1</span>; i &lt;= amount; i ++) &#123;<span class="comment">//遍历所有的容量</span></span><br><span class="line">            <span class="keyword">for</span>(<span class="type">int</span> j = <span class="number">0</span>; j &lt; coins.<span class="built_in">size</span>(); ++j)&#123; <span class="comment">//遍历所有的物品</span></span><br><span class="line">                <span class="keyword">if</span>(coins[j] &lt;= i) <span class="comment">//使 转移方程中的 i - coins[j] 有效</span></span><br><span class="line">                    <span class="comment">//属于最值问题,使用转移方程1</span></span><br><span class="line">                    dp[i] = <span class="built_in">min</span>(dp[i], dp[i - coins[j]] + <span class="number">1</span>);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="comment">// 如果 dp[amount] 的值为amount + 1,则表示没有一种硬币组合能组成总金额.</span></span><br><span class="line">        <span class="keyword">return</span> dp[amount ] == amount + <span class="number">1</span>  ? <span class="number">-1</span> : dp[amount];</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>

<h2 id="4-多重背包问题"><a href="#4-多重背包问题" class="headerlink" title="4. 多重背包问题"></a>4. 多重背包问题</h2><p>求解将哪些物品装入背包可使这些物品的耗费的空间总和不超过背包容量，且价值总和最大.<br>和完全背包问题很类似。基本的方程只需将完全背包问题的方程略微一改即可。<br>转移方程为: 最值问题的第二种形式</p>
<p>例题 <a target="_blank" rel="noopener" href="https://leetcode-cn.com/problems/last-stone-weight-ii/">1049. 最后一块石头的重量 II</a><br>与 上面的完全背包问题类似,但对于题目给的初值进行了处理,在返回时也不是直接返回 dp[amount]</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">有一堆石头，用整数数组 stones 表示。其中 stones[i] 表示第 i 块石头的重量。</span><br><span class="line"></span><br><span class="line">每一回合，从中选出任意两块石头，然后将它们一起粉碎。假设石头的重量分别为 x 和 y，且 x &lt;= y。那么粉碎的可能结果如下：</span><br><span class="line"></span><br><span class="line">如果 x == y，那么两块石头都会被完全粉碎；</span><br><span class="line">如果 x != y，那么重量为 x 的石头将会完全粉碎，而重量为 y 的石头新重量为 y-x。</span><br><span class="line">最后，最多只会剩下一块 石头。返回此石头 最小的可能重量 。如果没有石头剩下，就返回 0。</span><br><span class="line">示例:</span><br><span class="line">    &gt;输入：stones = [2,7,4,1,8,1]</span><br><span class="line">    &gt;输出：1</span><br><span class="line">    &gt;解释：</span><br><span class="line">        组合 2 和 4，得到 2，所以数组转化为 [2,7,1,8,1]，</span><br><span class="line">        组合 7 和 8，得到 1，所以数组转化为 [2,1,1,1]，</span><br><span class="line">        组合 2 和 1，得到 1，所以数组转化为 [1,1,1]，</span><br><span class="line">        组合 1 和 1，得到 0，所以数组转化为 [1]，这就是最优值。</span><br></pre></td></tr></table></figure>
<p>解答</p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 求解 sum /2 可装最大价值 MaxValue,返回结果为 sum - 2 * MaxValue</span></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Solution</span> &#123;</span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    <span class="function"><span class="type">int</span> <span class="title">lastStoneWeightII</span><span class="params">(vector&lt;<span class="type">int</span>&gt; &amp;stones)</span> </span>&#123;</span><br><span class="line">        <span class="type">int</span> sum = <span class="built_in">accumulate</span>(stones.<span class="built_in">begin</span>(), stones.<span class="built_in">end</span>(), <span class="number">0</span>);</span><br><span class="line">        <span class="type">int</span> target = sum / <span class="number">2</span>;</span><br><span class="line">        <span class="function">vector&lt;<span class="type">int</span>&gt; <span class="title">dp</span><span class="params">(target + <span class="number">1</span>)</span></span>;</span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> stone : stones)</span><br><span class="line">            <span class="keyword">for</span> (<span class="type">int</span> i = target; i &gt;= stone; i--)</span><br><span class="line">                <span class="comment">//转移方程1的第二类</span></span><br><span class="line">                dp[i] = <span class="built_in">max</span>(dp[i], dp[i - stone] + stone);</span><br><span class="line">        <span class="keyword">return</span> sum - <span class="number">2</span> * dp[target];</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>

<h2 id="5-组合背包问题"><a href="#5-组合背包问题" class="headerlink" title="5. 组合背包问题"></a>5. 组合背包问题</h2><p>求解的是物品的组合问题,例如有多少种组合使得背包能够装满等,通常会有一些额外的限制,例如组合不能重复，只能按照规定的限制进行选取等。<br>这时最可能想到 回溯 算法，但是会超时…</p>
<p>例题 <a target="_blank" rel="noopener" href="https://leetcode-cn.com/problems/coin-change-2/">leetcode 518. 零钱兑换 II</a></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">给你一个整数数组 coins 表示不同面额的硬币，另给一个整数 amount 表示总金额。</span><br><span class="line"></span><br><span class="line">请你计算并返回可以凑成总金额的硬币组合数。如果任何硬币组合都无法凑出总金额，返回 0 。</span><br><span class="line"></span><br><span class="line">假设每一种面额的硬币有无限个。</span><br><span class="line">示例:</span><br><span class="line">    &gt;输入：amount = 5, coins = [1, 2, 5]</span><br><span class="line">    &gt;输出：4</span><br><span class="line">    &gt;解释：有四种方式可以凑成总金额：</span><br><span class="line">        5=5</span><br><span class="line">        5=2+2+1</span><br><span class="line">        5=2+1+1+1</span><br><span class="line">        5=1+1+1+1+1</span><br></pre></td></tr></table></figure>
<p>解答</p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Solution</span> &#123;</span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    <span class="function"><span class="type">int</span> <span class="title">change</span><span class="params">(<span class="type">int</span> amount, vector&lt;<span class="type">int</span>&gt; &amp;coins)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="function">vector&lt;<span class="type">int</span>&gt; <span class="title">dp</span><span class="params">(amount + <span class="number">1</span>)</span></span>;</span><br><span class="line">    dp[<span class="number">0</span>] = <span class="number">1</span>;</span><br><span class="line">    <span class="comment">// 要考虑顺序问题,所以物品遍历在外面，背包遍历在里面,否则会有重复的组合</span></span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> coin : coins) </span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> i = <span class="number">1</span>; i &lt;= amount; i++)</span><br><span class="line">            <span class="keyword">if</span> (i &gt;= coin)</span><br><span class="line">            <span class="comment">//属于组合问题,使用转移方程3</span></span><br><span class="line">                dp[i] += dp[i - coin];</span><br><span class="line">    <span class="keyword">return</span> dp[amount];</span><br><span class="line">&#125;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>
<blockquote>
<p><a target="_blank" rel="noopener" href="https://leetcode-cn.com/problems/combination-sum-iv/">377. 组合总和 Ⅳ</a> 与这道题类似,但是因为不考虑顺序,所以不必考虑循环的次序.而且,因为有溢出的问题,所以if条件更为严格 “if( i &gt;&#x3D; nums[j] &amp;&amp; dp[i - nums[j]] &lt; INT_MAX - dp[i])”</p>
</blockquote>
<h2 id="6-分组背包"><a href="#6-分组背包" class="headerlink" title="6. 分组背包"></a>6. 分组背包</h2><p>物品被划分为 K 组，每组中的物品互相冲突，最多选一件。求解将哪些物品装入背包可使这些物品的费用总和不超过背包容量，且价值总和最大。</p>
<p>例题 <a target="_blank" rel="noopener" href="https://leetcode-cn.com/problems/number-of-dice-rolls-with-target-sum/">1155. 掷骰子的N种方法</a></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">这里有 d 个一样的骰子，每个骰子上都有 f 个面，分别标号为 1, 2, ..., f。</span><br><span class="line"></span><br><span class="line">我们约定：掷骰子的得到总点数为各骰子面朝上的数字的总和。</span><br><span class="line"></span><br><span class="line">如果需要掷出的总点数为 target，请你计算出有多少种不同的组合情况（所有的组合情况总共有 f^d 种），模 10^9 + 7 后返回。</span><br><span class="line"></span><br><span class="line">示例：</span><br><span class="line">    &gt;输入：d = 1, f = 6, target = 3</span><br><span class="line">    &gt;输出：1</span><br></pre></td></tr></table></figure>
<p>解答</p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment">    骰子被分为了d 组,每组有 f 个物品,每次只能选择其中的一个.</span></span><br><span class="line"><span class="comment">    d 个骰子，每个骰子可以取 1~f 中的任意一个值</span></span><br><span class="line"><span class="comment">    这里有两个背包问题,一个可以看作是 0-1 背包问题</span></span><br><span class="line"><span class="comment">    分组背包问题将这两者组合起来了</span></span><br><span class="line"><span class="comment">    dp[i][j] 表示投掷i个骰子点数和为j的方法数</span></span><br><span class="line"><span class="comment">即: dp[i][j] 表示 前i组物品的总重量为 j 时取得的最大价值</span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment">    所以应该是分组背包 的 组合问题,转移方程类似于上面的转移方程3</span></span><br><span class="line"><span class="comment">*/</span></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">numRollsToTarget</span><span class="params">(<span class="type">int</span> d, <span class="type">int</span> f, <span class="type">int</span> target)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    vector&lt;vector&lt;<span class="type">int</span>&gt;&gt; <span class="built_in">dp</span>(d + <span class="number">1</span>, <span class="built_in">vector</span>&lt;<span class="type">int</span>&gt;(target + <span class="number">1</span>, <span class="number">0</span>));</span><br><span class="line">    dp[<span class="number">0</span>][<span class="number">0</span>] = <span class="number">1</span>;</span><br><span class="line">    <span class="comment">//三层循环：最外层为背包d,然后先遍历target后遍历点数f</span></span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> i = <span class="number">1</span>; i &lt;= d; i++) <span class="comment">// 遍历所有组</span></span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> j = <span class="number">1</span>; j &lt;= target; j++)<span class="comment">//遍历所有重量</span></span><br><span class="line">            <span class="keyword">for</span> (<span class="type">int</span> k = <span class="number">1</span>; k &lt;= f &amp;&amp; j &gt;= k; k++) <span class="comment">//遍历所有组内的所有元素</span></span><br><span class="line">                <span class="comment">//扩展之后的转移方程3</span></span><br><span class="line">                dp[i][j] += dp[i - <span class="number">1</span>][j - k];</span><br><span class="line">    <span class="keyword">return</span> dp[d][target];</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>


<!-- ## 8. 混合背包
### 8.1 0-1 背包和完全背包混合
### 8.2 再加上多重背包 -->

<h2 id="参考"><a href="#参考" class="headerlink" title="参考"></a>参考</h2><ol>
<li><p><a target="_blank" rel="noopener" href="https://leetcode-cn.com/problems/coin-change/solution/yi-pian-wen-zhang-chi-tou-bei-bao-wen-ti-sq9n/">一篇文章吃透背包问题！</a></p>
</li>
<li><p><a target="_blank" rel="noopener" href="https://leetcode-cn.com/circle/discuss/GWpXCM/">深度讲解背包问题</a></p>
</li>
<li><p><a target="_blank" rel="noopener" href="https://github.com/tianyicui/pack">背包问题九讲</a></p>
</li>
<li><p>杨克昌．计算机常用算法与程序设计案例教程 第2版．北京：清华大学出版社 ，2015</p>
</li>
</ol>

  </div>
</article>


    <div class="blog-post-comments">
        <div id="utterances_thread">
            <noscript>Please enable JavaScript to view the comments.</noscript>
        </div>
    </div>


        
          <div id="footer-post-container">
  <div id="footer-post">

    <div id="nav-footer" style="display: none">
      <ul>
        
          <li><a href="/">Home</a></li>
        
          <li><a href="/archives/">Writing</a></li>
        
          <li><a target="_blank" rel="noopener" href="http://github.com/tblgsn">Projects</a></li>
        
          <li><a href="/about/">About</a></li>
        
      </ul>
    </div>

    
    
      <div id="toc-footer" style="display: none">
        <ol class="toc"><li class="toc-item toc-level-2"><a class="toc-link" href="#1-%E8%83%8C%E5%8C%85%E9%97%AE%E9%A2%98%E7%9A%84%E5%88%86%E7%B1%BB%E5%8F%8A%E6%A8%A1%E6%9D%BF"><span class="toc-number">1.</span> <span class="toc-text">1. 背包问题的分类及模板</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#1-1-%E4%BB%A3%E7%A0%81%E6%A8%A1%E6%9D%BF"><span class="toc-number">1.1.</span> <span class="toc-text">1.1 代码模板</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#1-2-%E8%BD%AC%E7%A7%BB%E6%96%B9%E7%A8%8B"><span class="toc-number">1.2.</span> <span class="toc-text">1.2 转移方程</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#2-0-1-%E8%83%8C%E5%8C%85%E9%97%AE%E9%A2%98"><span class="toc-number">2.</span> <span class="toc-text">2. 0-1 背包问题</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#3-%E5%AE%8C%E5%85%A8%E8%83%8C%E5%8C%85%E9%97%AE%E9%A2%98"><span class="toc-number">3.</span> <span class="toc-text">3. 完全背包问题</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#4-%E5%A4%9A%E9%87%8D%E8%83%8C%E5%8C%85%E9%97%AE%E9%A2%98"><span class="toc-number">4.</span> <span class="toc-text">4. 多重背包问题</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#5-%E7%BB%84%E5%90%88%E8%83%8C%E5%8C%85%E9%97%AE%E9%A2%98"><span class="toc-number">5.</span> <span class="toc-text">5. 组合背包问题</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#6-%E5%88%86%E7%BB%84%E8%83%8C%E5%8C%85"><span class="toc-number">6.</span> <span class="toc-text">6. 分组背包</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%8F%82%E8%80%83"><span class="toc-number">7.</span> <span class="toc-text">参考</span></a></li></ol>
      </div>
    

    <div id="share-footer" style="display: none">
      <ul>
  <li><a class="icon" target="_blank" rel="noopener" href="http://www.facebook.com/sharer.php?u=https://tblgsn.github.io/KnapsackProblem20210615.html"><i class="fab fa-facebook fa-lg" aria-hidden="true"></i></a></li>
  <li><a class="icon" target="_blank" rel="noopener" href="https://twitter.com/share?url=https://tblgsn.github.io/KnapsackProblem20210615.html&text=Letcode 背包问题一览"><i class="fab fa-twitter fa-lg" aria-hidden="true"></i></a></li>
  <li><a class="icon" target="_blank" rel="noopener" href="http://www.linkedin.com/shareArticle?url=https://tblgsn.github.io/KnapsackProblem20210615.html&title=Letcode 背包问题一览"><i class="fab fa-linkedin fa-lg" aria-hidden="true"></i></a></li>
  <li><a class="icon" target="_blank" rel="noopener" href="https://pinterest.com/pin/create/bookmarklet/?url=https://tblgsn.github.io/KnapsackProblem20210615.html&is_video=false&description=Letcode 背包问题一览"><i class="fab fa-pinterest fa-lg" aria-hidden="true"></i></a></li>
  <li><a class="icon" href="mailto:?subject=Letcode 背包问题一览&body=Check out this article: https://tblgsn.github.io/KnapsackProblem20210615.html"><i class="fa-solid fa-envelope fa-lg" aria-hidden="true"></i></a></li>
  <li><a class="icon" target="_blank" rel="noopener" href="https://getpocket.com/save?url=https://tblgsn.github.io/KnapsackProblem20210615.html&title=Letcode 背包问题一览"><i class="fab fa-get-pocket fa-lg" aria-hidden="true"></i></a></li>
  <li><a class="icon" target="_blank" rel="noopener" href="http://reddit.com/submit?url=https://tblgsn.github.io/KnapsackProblem20210615.html&title=Letcode 背包问题一览"><i class="fab fa-reddit fa-lg" aria-hidden="true"></i></a></li>
  <li><a class="icon" target="_blank" rel="noopener" href="http://www.stumbleupon.com/submit?url=https://tblgsn.github.io/KnapsackProblem20210615.html&title=Letcode 背包问题一览"><i class="fab fa-stumbleupon fa-lg" aria-hidden="true"></i></a></li>
  <li><a class="icon" target="_blank" rel="noopener" href="http://digg.com/submit?url=https://tblgsn.github.io/KnapsackProblem20210615.html&title=Letcode 背包问题一览"><i class="fab fa-digg fa-lg" aria-hidden="true"></i></a></li>
  <li><a class="icon" target="_blank" rel="noopener" href="http://www.tumblr.com/share/link?url=https://tblgsn.github.io/KnapsackProblem20210615.html&name=Letcode 背包问题一览&description=&lt;p&gt;背包问题(Knapsack problem)是一种组合优化的 NP 完全问题。问题可以描述为：给定一组物品，每种物品都有自己的重量 w 和价格 v ，在限定的总重量内，我们如何选择，才能使得物品的总价格 V 最高。问题的名称来源于如何选择最合适的物品放置于给定背包中。&lt;br&gt;背包问题可以分为很多的种类,但是各类复杂的背包问题总可以变换为简单的0-1背包问题进行求解[4],下面将详细的介绍背包问题的一些“共性”。&lt;/p&gt;"><i class="fab fa-tumblr fa-lg" aria-hidden="true"></i></a></li>
  <li><a class="icon" target="_blank" rel="noopener" href="https://news.ycombinator.com/submitlink?u=https://tblgsn.github.io/KnapsackProblem20210615.html&t=Letcode 背包问题一览"><i class="fab fa-hacker-news fa-lg" aria-hidden="true"></i></a></li>
</ul>

    </div>

    <div id="actions-footer">
        <a id="menu" class="icon" href="#" onclick="$('#nav-footer').toggle();return false;"><i class="fa-solid fa-bars fa-lg" aria-hidden="true"></i> Menu</a>
        
          <a id="toc" class="icon" href="#" onclick="$('#toc-footer').toggle();return false;"><i class="fa-solid fa-list fa-lg" aria-hidden="true"></i> TOC</a>
        
        <a id="share" class="icon" href="#" onclick="$('#share-footer').toggle();return false;"><i class="fa-solid fa-share-alt fa-lg" aria-hidden="true"></i> Share</a>
        <a id="top" style="display:none" class="icon" href="#" onclick="$('html, body').animate({ scrollTop: 0 }, 'fast');"><i class="fa-solid fa-chevron-up fa-lg" aria-hidden="true"></i> Top</a>
    </div>

  </div>
</div>

        
        <footer id="footer">
  <div class="footer-left">
    Copyright &copy;
    
    
    2019-2024
    tblgsn
  </div>
  <div class="footer-right">
    <nav>
      <ul>
        <!--
       --><li><a href="/">Home</a></li><!--
     --><!--
       --><li><a href="/archives/">Writing</a></li><!--
     --><!--
       --><li><a target="_blank" rel="noopener" href="http://github.com/tblgsn">Projects</a></li><!--
     --><!--
       --><li><a href="/about/">About</a></li><!--
     -->
      </ul>
    </nav>
  </div>
</footer>

    </div>
    <!-- styles -->



  <link rel="preload" as="style" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css" crossorigin="anonymous" onload="this.onload=null;this.rel='stylesheet'"/>


    <!-- jquery -->

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.6.0/jquery.min.js" crossorigin="anonymous"></script>




<!-- clipboard -->

  
    <script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.7/clipboard.min.js" crossorigin="anonymous"></script>
  
  <script type="text/javascript">
  $(function() {
    // copy-btn HTML
    var btn = "<span class=\"btn-copy tooltipped tooltipped-sw\" aria-label=\"Copy to clipboard!\">";
    btn += '<i class="fa-regular fa-clone"></i>';
    btn += '</span>';
    // mount it!
    $(".highlight table").before(btn);
    var clip = new ClipboardJS('.btn-copy', {
      text: function(trigger) {
        return Array.from(trigger.nextElementSibling.querySelectorAll('.code')).reduce((str,it)=>str+it.innerText+'\n','')
      }
    });
    clip.on('success', function(e) {
      e.trigger.setAttribute('aria-label', "Copied!");
      e.clearSelection();
    })
  })
  </script>


<script src="/js/main.js"></script>

<!-- search -->

<!-- Baidu Analytics -->

<!-- Cloudflare Analytics -->

<!-- Disqus Comments -->

<!-- utterances Comments -->

    <script type="text/javascript">
      var utterances_repo = 'TBLGSn/tblgsn.github.io';
      var utterances_issue_term = 'url';
      var utterances_label = 'Comment';
      var utterances_theme = 'github-dark';

      (function(){
          var script = document.createElement('script');

          script.src = 'https://utteranc.es/client.js';
          script.setAttribute('repo', utterances_repo);
          script.setAttribute('issue-term', 'pathname');
          script.setAttribute('label', utterances_label);
          script.setAttribute('theme', utterances_theme);
          script.setAttribute('crossorigin', 'anonymous');
          script.async = true;
          (document.getElementById('utterances_thread')).appendChild(script);
      }());
  </script>

</body>
</html>
